{"ast":null,"code":"var _jsxFileName = \"/Users/invite/Desktop/PFE/REVIEWHUB/FrontEnd/src/components/AuthContext/AuthContext.jsx\",\n  _s = $RefreshSig$();\nimport { React, useEffect } from 'react';\nimport { createContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INITIAL_STATE = {\n  /// to check if there is already user logged-in in localstorage  \n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  loading: false,\n  error: null\n};\nexport const AuthContext = /*#__PURE__*/createContext(INITIAL_STATE);\n_c = AuthContext;\nconst AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        loading: true,\n        error: null\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload,\n        loading: false,\n        error: null\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        loading: false,\n        error: action.payload\n      };\n    case \"LOG_OUT\":\n      return {\n        user: null,\n        loading: false,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\n_c2 = AuthReducer;\nexport const AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user: state.user,\n      loading: state.loading,\n      error: state.error,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 2\n  }, this);\n};\n_s(AuthContextProvider, \"hDji3Qime4PuVpufx3kd+fad4Qs=\");\n_c3 = AuthContextProvider;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthContext\");\n$RefreshReg$(_c2, \"AuthReducer\");\n$RefreshReg$(_c3, \"AuthContextProvider\");","map":{"version":3,"names":["React","useEffect","createContext","useReducer","jsxDEV","_jsxDEV","INITIAL_STATE","user","JSON","parse","localStorage","getItem","loading","error","AuthContext","_c","AuthReducer","state","action","type","payload","_c2","AuthContextProvider","_ref","_s","children","dispatch","setItem","stringify","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c3","$RefreshReg$"],"sources":["/Users/invite/Desktop/PFE/REVIEWHUB/FrontEnd/src/components/AuthContext/AuthContext.jsx"],"sourcesContent":["import {React,useEffect} from 'react'\nimport {createContext,useReducer    }from 'react'\n\nconst INITIAL_STATE={\n        /// to check if there is already user logged-in in localstorage  \nuser:JSON.parse(localStorage.getItem(\"user\")) ||  null,\nloading:false,\nerror:null\n\n};\nexport const AuthContext=createContext(INITIAL_STATE);\nconst AuthReducer=(state,action)=>{\n    switch(action.type){\n   case \"LOGIN_START\" :\n   return {user:null,\n    loading:true,\n    error:null,};\n\n    case \"LOGIN_SUCCESS\" :\n    return {user:action.payload,\n     loading:false,\n     error:null,};\n\n     \n     case \"LOGIN_FAILURE\" :\n     return {user:null,\n      loading:false,\n      error:action.payload,}\n\n      case \"LOG_OUT\" :\n      return {user:null,\n       loading:false,\n       error:null,}\n   default: return state;\n\n\n    }\n};\nexport const AuthContextProvider=({children})=>{\nconst [state,dispatch]=useReducer(AuthReducer,INITIAL_STATE);\nuseEffect(() => {\n    localStorage.setItem(\"user\",JSON.stringify(state.user))\n}, [state.user])\n\nreturn(\n <AuthContext.Provider value={{\n    user:state.user,\n    loading:state.loading,\n    error:state.error,\n    dispatch\n }}>\n\n    {children}\n </AuthContext.Provider>\n\n    \n    )\n\n\n}\n"],"mappings":";;AAAA,SAAQA,KAAK,EAACC,SAAS,QAAO,OAAO;AACrC,SAAQC,aAAa,EAACC,UAAU,QAAU,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,aAAa,GAAC;EACZ;EACRC,IAAI,EAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAK,IAAI;EACtDC,OAAO,EAAC,KAAK;EACbC,KAAK,EAAC;AAEN,CAAC;AACD,OAAO,MAAMC,WAAW,gBAACZ,aAAa,CAACI,aAAa,CAAC;AAACS,EAAA,GAAzCD,WAAW;AACxB,MAAME,WAAW,GAACA,CAACC,KAAK,EAACC,MAAM,KAAG;EAC9B,QAAOA,MAAM,CAACC,IAAI;IACnB,KAAK,aAAa;MAClB,OAAO;QAACZ,IAAI,EAAC,IAAI;QAChBK,OAAO,EAAC,IAAI;QACZC,KAAK,EAAC;MAAK,CAAC;IAEZ,KAAK,eAAe;MACpB,OAAO;QAACN,IAAI,EAACW,MAAM,CAACE,OAAO;QAC1BR,OAAO,EAAC,KAAK;QACbC,KAAK,EAAC;MAAK,CAAC;IAGZ,KAAK,eAAe;MACpB,OAAO;QAACN,IAAI,EAAC,IAAI;QAChBK,OAAO,EAAC,KAAK;QACbC,KAAK,EAACK,MAAM,CAACE;MAAQ,CAAC;IAEtB,KAAK,SAAS;MACd,OAAO;QAACb,IAAI,EAAC,IAAI;QAChBK,OAAO,EAAC,KAAK;QACbC,KAAK,EAAC;MAAK,CAAC;IAChB;MAAS,OAAOI,KAAK;EAAC;AAIzB,CAAC;AAACI,GAAA,GA1BIL,WAAW;AA2BjB,OAAO,MAAMM,mBAAmB,GAACC,IAAA,IAAc;EAAAC,EAAA;EAAA,IAAb;IAACC;EAAQ,CAAC,GAAAF,IAAA;EAC5C,MAAM,CAACN,KAAK,EAACS,QAAQ,CAAC,GAACvB,UAAU,CAACa,WAAW,EAACV,aAAa,CAAC;EAC5DL,SAAS,CAAC,MAAM;IACZS,YAAY,CAACiB,OAAO,CAAC,MAAM,EAACnB,IAAI,CAACoB,SAAS,CAACX,KAAK,CAACV,IAAI,CAAC,CAAC;EAC3D,CAAC,EAAE,CAACU,KAAK,CAACV,IAAI,CAAC,CAAC;EAEhB,oBACCF,OAAA,CAACS,WAAW,CAACe,QAAQ;IAACC,KAAK,EAAE;MAC1BvB,IAAI,EAACU,KAAK,CAACV,IAAI;MACfK,OAAO,EAACK,KAAK,CAACL,OAAO;MACrBC,KAAK,EAACI,KAAK,CAACJ,KAAK;MACjBa;IACH,CAAE;IAAAD,QAAA,EAEEA;EAAQ;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACW;AAMxB,CAAC;AAAAV,EAAA,CArBYF,mBAAmB;AAAAa,GAAA,GAAnBb,mBAAmB;AAAA,IAAAP,EAAA,EAAAM,GAAA,EAAAc,GAAA;AAAAC,YAAA,CAAArB,EAAA;AAAAqB,YAAA,CAAAf,GAAA;AAAAe,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}